#include "PackedTextures.h"

using namespace PixieUI;

const PackedTexture PixieUI::packedFontTexture = PackedTexture({
	TexturePacking::RunlengthGreyscale,
	60, 80,
	{ 8, 0, 1, 255, 4, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 4, 0, 1, 255, 3, 0, 2, 255, 5, 0, 2, 255, 4, 0, 2, 255, 6, 0, 1, 255, 3, 0, 1, 255, 12, 0, 1, 255, 4, 0, 1, 255, 1, 0, 1, 255, 2, 0, 5, 255, 2, 0, 4, 255, 1, 0, 2, 255, 2, 0, 1, 255, 1, 0, 1, 255, 2, 0, 1, 255, 4, 0, 1, 255, 5, 0, 1, 255, 5, 0, 1, 255, 11, 0, 1, 255, 4, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 2, 0, 1, 255, 1, 0, 1, 255, 6, 0, 1, 255, 2, 0, 1, 255, 1, 0, 1, 255, 4, 0, 1, 255, 5, 0, 1, 255, 7, 0, 1, 255, 10, 0, 1, 255, 10, 0, 1, 255, 1, 0, 1, 255, 3, 0, 3, 255, 4, 0, 1, 255, 4, 0, 2, 255, 10, 0, 1, 255, 7, 0, 1, 255, 10, 0, 1, 255, 9, 0, 5, 255, 3, 0, 1, 255, 1, 0, 1, 255, 2, 0, 1, 255, 4, 0, 1, 255, 2, 0, 2, 255, 8, 0, 1, 255, 7, 0, 1, 255, 21, 0, 1, 255, 1, 0, 1, 255, 2, 0, 4, 255, 2, 0, 1, 255, 2, 0, 2, 255, 1, 0, 1, 255, 2, 0, 1, 255, 10, 0, 1, 255, 5, 0, 1, 255, 11, 0, 1, 255, 17, 0, 1, 255, 6, 0, 2, 255, 2, 0, 2, 255, 1, 0, 1, 255, 10, 0, 1, 255, 3, 0, 1, 255, 66, 0, 1, 255, 34, 0, 3, 255, 4, 0, 1, 255, 4, 0, 3, 255, 2, 0, 5, 255, 1, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 25, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 2, 0, 2, 255, 3, 0, 1, 255, 3, 0, 1, 255, 4, 0, 1, 255, 3, 0, 3, 255, 4, 0, 1, 255, 24, 0, 1, 255, 2, 0, 1, 255, 2, 0, 2, 255, 3, 0, 1, 255, 6, 0, 1, 255, 4, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 1, 0, 5, 255, 7, 0, 5, 255, 9, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 5, 0, 1, 255, 6, 0, 1, 255, 4, 0, 1, 255, 5, 0, 1, 255, 4, 0, 2, 255, 16, 0, 1, 255, 4, 0, 2, 255, 2, 0, 1, 255, 3, 0, 1, 255, 4, 0, 1, 255, 4, 0, 1, 255, 3, 0, 1, 255, 9, 0, 1, 255, 5, 0, 1, 255, 10, 0, 2, 255, 3, 0, 1, 255, 5, 0, 1, 255, 3, 0, 1, 255, 2, 0, 3, 255, 2, 0, 5, 255, 2, 0, 3, 255, 15, 0, 1, 255, 11, 0, 2, 255, 10, 0, 3, 255, 83, 0, 1, 255, 2, 0, 5, 255, 2, 0, 3, 255, 2, 0, 5, 255, 2, 0, 3, 255, 3, 0, 3, 255, 17, 0, 1, 255, 10, 0, 2, 255, 2, 0, 1, 255, 5, 0, 1, 255, 9, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 2, 0, 2, 255, 4, 0, 2, 255, 5, 0, 1, 255, 10, 0, 1, 255, 1, 0, 1, 255, 2, 0, 4, 255, 2, 0, 4, 255, 5, 0, 1, 255, 3, 0, 3, 255, 2, 0, 1, 255, 3, 0, 1, 255, 2, 0, 2, 255, 4, 0, 2, 255, 4, 0, 1, 255, 4, 0, 5, 255, 1, 0, 5, 255, 5, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 2, 0, 4, 255, 13, 0, 1, 255, 14, 0, 1, 255, 2, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 5, 0, 1, 255, 2, 0, 2, 255, 4, 0, 2, 255, 4, 0, 1, 255, 4, 0, 5, 255, 4, 0, 1, 255, 3, 0, 3, 255, 3, 0, 3, 255, 4, 0, 1, 255, 4, 0, 3, 255, 3, 0, 3, 255, 3, 0, 2, 255, 5, 0, 1, 255, 5, 0, 1, 255, 52, 0, 1, 255, 7, 0, 1, 255, 69, 0, 1, 255, 5, 0, 3, 255, 3, 0, 3, 255, 3, 0, 3, 255, 2, 0, 4, 255, 3, 0, 3, 255, 2, 0, 3, 255, 3, 0, 5, 255, 1, 0, 5, 255, 2, 0, 3, 255, 4, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 2, 0, 1, 255, 2, 0, 1, 255, 5, 0, 1, 255, 5, 0, 1, 255, 3, 0, 1, 255, 4, 0, 1, 255, 6, 0, 1, 255, 5, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 4, 255, 2, 0, 1, 255, 5, 0, 1, 255, 3, 0, 1, 255, 1, 0, 4, 255, 2, 0, 4, 255, 2, 0, 1, 255, 9, 0, 1, 255, 4, 0, 1, 255, 3, 0, 2, 255, 1, 0, 1, 255, 1, 0, 5, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 5, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 5, 0, 1, 255, 5, 0, 1, 255, 1, 0, 3, 255, 4, 0, 1, 255, 4, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 2, 0, 1, 255, 2, 0, 1, 255, 5, 0, 1, 255, 5, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 9, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 4, 255, 3, 0, 3, 255, 2, 0, 3, 255, 3, 0, 5, 255, 1, 0, 1, 255, 6, 0, 3, 255, 3, 0, 1, 255, 6, 0, 1, 255, 4, 0, 3, 255, 104, 0, 1, 255, 3, 0, 1, 255, 2, 0, 3, 255, 4, 0, 3, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 5, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 2, 0, 3, 255, 2, 0, 4, 255, 3, 0, 3, 255, 2, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 6, 0, 1, 255, 2, 0, 1, 255, 2, 0, 1, 255, 2, 0, 1, 255, 5, 0, 2, 255, 1, 0, 2, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 5, 255, 3, 0, 1, 255, 6, 0, 1, 255, 2, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 5, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 1, 0, 2, 255, 2, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 6, 0, 1, 255, 2, 0, 3, 255, 3, 0, 1, 255, 5, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 4, 255, 2, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 2, 0, 1, 255, 2, 0, 1, 255, 2, 0, 1, 255, 2, 0, 1, 255, 5, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 2, 0, 2, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 5, 0, 1, 255, 2, 0, 1, 255, 2, 0, 1, 255, 3, 0, 1, 255, 2, 0, 3, 255, 3, 0, 2, 255, 3, 0, 1, 255, 3, 0, 1, 255, 1, 0, 5, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 2, 0, 3, 255, 2, 0, 1, 255, 6, 0, 2, 255, 1, 0, 1, 255, 121, 0, 4, 255, 3, 0, 4, 255, 1, 0, 5, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 5, 255, 2, 0, 2, 255, 3, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 7, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 2, 0, 1, 255, 1, 0, 1, 255, 2, 0, 1, 255, 3, 0, 1, 255, 5, 0, 1, 255, 2, 0, 1, 255, 4, 0, 1, 255, 3, 0, 1, 255, 2, 0, 3, 255, 4, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 4, 0, 1, 255, 1, 0, 1, 255, 5, 0, 1, 255, 3, 0, 1, 255, 4, 0, 4, 255, 6, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 5, 0, 1, 255, 5, 0, 1, 255, 4, 0, 1, 255, 4, 0, 1, 255, 3, 0, 1, 255, 5, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 2, 0, 1, 255, 1, 0, 1, 255, 2, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 2, 0, 1, 255, 1, 0, 1, 255, 4, 0, 1, 255, 4, 0, 1, 255, 5, 0, 1, 255, 4, 0, 1, 255, 3, 0, 1, 255, 1, 0, 4, 255, 4, 0, 1, 255, 4, 0, 3, 255, 4, 0, 1, 255, 4, 0, 1, 255, 1, 0, 1, 255, 2, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 3, 0, 5, 255, 2, 0, 1, 255, 59, 0, 2, 255, 71, 0, 2, 255, 4, 0, 1, 255, 9, 0, 1, 255, 11, 0, 1, 255, 15, 0, 1, 255, 7, 0, 1, 255, 8, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 9, 0, 1, 255, 5, 0, 2, 255, 3, 0, 1, 255, 6, 0, 4, 255, 5, 0, 1, 255, 2, 0, 3, 255, 3, 0, 1, 255, 7, 0, 1, 255, 2, 0, 1, 255, 3, 0, 1, 255, 8, 0, 2, 255, 6, 0, 1, 255, 2, 0, 4, 255, 2, 0, 1, 255, 6, 0, 4, 255, 1, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 6, 0, 1, 255, 21, 0, 3, 255, 2, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 5, 0, 1, 255, 3, 0, 1, 255, 1, 0, 5, 255, 4, 0, 1, 255, 5, 0, 1, 255, 20, 0, 1, 255, 2, 0, 1, 255, 2, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 5, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 9, 0, 1, 255, 4, 0, 1, 255, 21, 0, 4, 255, 1, 0, 4, 255, 3, 0, 4, 255, 2, 0, 4, 255, 2, 0, 4, 255, 9, 0, 2, 255, 8, 0, 5, 255, 99, 0, 2, 255, 8, 0, 1, 255, 7, 0, 1, 255, 6, 0, 1, 255, 2, 0, 1, 255, 5, 0, 2, 255, 23, 0, 1, 255, 2, 0, 1, 255, 2, 0, 3, 255, 2, 0, 1, 255, 17, 0, 1, 255, 6, 0, 1, 255, 4, 0, 2, 255, 1, 0, 1, 255, 2, 0, 4, 255, 3, 0, 3, 255, 3, 0, 1, 255, 4, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 6, 0, 2, 255, 5, 0, 2, 255, 2, 0, 1, 255, 2, 0, 1, 255, 3, 0, 1, 255, 4, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 3, 255, 3, 0, 1, 255, 3, 0, 1, 255, 1, 0, 4, 255, 4, 0, 1, 255, 6, 0, 1, 255, 2, 0, 1, 255, 1, 0, 1, 255, 4, 0, 1, 255, 4, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 2, 0, 1, 255, 5, 0, 4, 255, 1, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 6, 0, 1, 255, 2, 0, 2, 255, 5, 0, 1, 255, 4, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 2, 0, 1, 255, 8, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 2, 0, 3, 255, 2, 0, 1, 255, 2, 0, 1, 255, 2, 0, 1, 255, 1, 0, 2, 255, 2, 0, 3, 255, 3, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 2, 0, 3, 255, 8, 0, 4, 255, 15, 0, 2, 255, 153, 0, 4, 255, 3, 0, 4, 255, 1, 0, 1, 255, 1, 0, 2, 255, 3, 0, 4, 255, 3, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 2, 255, 2, 0, 1, 255, 1, 0, 1, 255, 5, 0, 5, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 2, 0, 1, 255, 1, 0, 1, 255, 2, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 6, 0, 3, 255, 4, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 1, 0, 4, 255, 3, 0, 4, 255, 1, 0, 1, 255, 9, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 3, 0, 1, 255, 2, 0, 1, 255, 1, 0, 1, 255, 2, 0, 1, 255, 1, 0, 1, 255, 1, 0, 1, 255, 2, 0, 1, 255, 1, 0, 1, 255, 3, 0, 4, 255, 1, 0, 1, 255, 9, 0, 1, 255, 1, 0, 1, 255, 5, 0, 4, 255, 5, 0, 2, 255, 2, 0, 3, 255, 4, 0, 1, 255, 4, 0, 1, 255, 1, 0, 1, 255, 2, 0, 1, 255, 3, 0, 1, 255, 5, 0, 1, 255, 1, 0, 1, 255, 9, 0, 1, 255, 44, 0, 3, 255, 70, 0, 1, 255, 5, 0, 1, 255, 5, 0, 1, 255, 4, 0, 2, 255, 1, 0, 1, 255, 31, 0, 5, 255, 2, 0, 1, 255, 6, 0, 1, 255, 6, 0, 1, 255, 2, 0, 1, 255, 2, 0, 1, 255, 35, 0, 1, 255, 3, 0, 1, 255, 6, 0, 1, 255, 6, 0, 1, 255, 40, 0, 1, 255, 3, 0, 1, 255, 7, 0, 1, 255, 7, 0, 1, 255, 38, 0, 1, 255, 5, 0, 1, 255, 6, 0, 1, 255, 6, 0, 1, 255, 38, 0, 5, 255, 2, 0, 1, 255, 6, 0, 1, 255, 6, 0, 1, 255, 46, 0, 1, 255, 5, 0, 1, 255, 5, 0, 1, 255, 99, 0 }
	});

uint8_t* PixieUI::UnpackTexture(const PackedTexture& texture) {
	uint8_t* result = nullptr;
	uint32_t dataSize = 0;
	switch (texture.packing) {
	case TexturePacking::RunlengthGreyscale:
		if (texture.data.size() % 2) throw new std::exception("Packed texture is wrong.");
		dataSize = texture.width * texture.height * 3;
		result = new uint8_t[dataSize];
		for (size_t i = 0, j = 0; i < texture.data.size(); i+= 2) {
			for (size_t k = 0; k < texture.data[i] * 3; k++, j++) {
				if (j >= dataSize) throw new std::exception("Packed texture is too big.");
				result[j] = texture.data[i + 1];
			}
		}
		break;
	case TexturePacking::Greyscale:
	default:
		if (texture.data.size() != texture.width * texture.height) throw new std::exception("Packed texture is wrong.");
		dataSize = (uint32_t)texture.data.size() * 3;
		result = new uint8_t[dataSize];
		for (size_t i = 0; i < texture.data.size(); i++) {
			result[i * 3] = texture.data[i];
			result[i * 3 + 1] = texture.data[i];
			result[i * 3 + 2] = texture.data[i];
		}
	}
	return result;
}
